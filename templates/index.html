<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI хКйчРЖ</title>
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-main">
                <h1>AI хКйчРЖ</h1>
                <div class="header-buttons">
                    <button id="settings-btn" class="settings-btn">тЪЩя╕П шо╛ч╜о</button>
                    <button id="clear-history-btn" class="clear-btn">ЁЯЧСя╕П ц╕Ечй║шо░х╜Х</button>
                </div>
            </div>
            <div class="mode-selector">
                <label for="chat-mode">щАЙцЛйцибх╝П:</label>
                <select id="chat-mode">
                    <!-- ф╕Ухо╢хИЧшбих░ЖчФ▒ JavaScript хКицАБхКаш╜╜ -->
                </select>
            </div>
        </header>
        <div class="chat-window" id="chat-window">
            <!-- шБКхдйц╢ИцБпх░ЖчФ▒ JavaScript хКицАБцПТхЕеш┐ЩщЗМ -->
        </div>
        <footer class="chat-input-area">
            <form id="chat-form">
                <input type="text" id="message-input" placeholder="ш╛УхЕеф╜ачЪДц╢ИцБп..." autocomplete="off" required>
                <button type="submit">хПСщАБ</button>
            </form>
        </footer>
    </div>

    <!-- ф║║шо╛шбехЕих╝╣чкЧ (щ╗ШшодщЪРшЧП) -->
    <div id="persona-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <!-- шзЖхЫ╛ 1: хдДчРЖх┐ЕшжБцПРщЧо -->
            <div id="modal-question-view">
                <h2 id="modal-title-question">ф║║шо╛шбехЕи</h2>
                <p id="modal-question-text">ф╕║ф║ЖцЫ┤хе╜хЬ░х╕охКйцВия╝МцИСщЬАшжБф║ЖшзгцЫ┤хдЪф┐бцБпя╝Ъ</p>
                <form id="persona-form">
                    <textarea id="persona-input" rows="4" placeholder="шп╖ш╛УхЕецВичЪДхЫЮчнФ..."></textarea>
                    <div class="modal-actions">
                        <button type="button" class="modal-cancel">ф╗ехРОхЖНшп┤</button>
                        <button type="submit" id="modal-submit-initial">цПРчВ╝х╣╢щвДшзИ</button>
                    </div>
                </form>
            </div>

            <!-- шзЖхЫ╛ 2: чбошодцПРчВ╝ч╗УцЮЬ (чФиф║Ох┐ЕшжБцПРщЧохРО) -->
            <div id="modal-confirmation-view" style="display: none;">
                <h2>шп╖чбошодф║║шо╛ф┐бцБп</h2>
                <p>ца╣цНоцВичЪДхЫЮчнФя╝МцИСф╕║цВицА╗ч╗Уф║Жф╗еф╕Лф║║шо╛ф┐бцБпя╝Ъ</p>
                <div class="processed-text-box">
                    <p id="processed-text-content"></p>
                </div>
                <p>цШпхРжх░ЖцндцЭбф┐бцБпхКахЕецВичЪДца╕х┐Гф║║шо╛ф╕ня╝Я</p>
                <div class="modal-actions">
                    <button type="button" id="modal-retry">щЗНцЦ░хЫЮчнФ</button>
                    <button type="button" id="modal-confirm-update">чбошодц╖╗хКа</button>
                </div>
            </div>

            <!-- шзЖхЫ╛ 3: чбошодц┤ЮхпЯх╗║шоо -->
            <div id="modal-suggestion-view" style="display: none;">
                <h2 id="modal-title-suggestion">ф║║шо╛цЫ┤цЦ░х╗║шоо</h2>
                <p id="modal-suggestion-text">ца╣цНоцИСф╗мчЪДхп╣шпЭя╝МцИСхПСчО░ф║Жф╕Аф╕кхПпф╗ешбехЕЕхИ░цВиф║║шо╛ф╕нчЪДф┐бцБпчВ╣я╝Ъ</p>
                 <div class="processed-text-box">
                    <p id="suggestion-text-content"></p>
                </div>
                <p>цШпхРжх░ЖцндцЭбф┐бцБпхКахЕецВичЪДца╕х┐Гф║║шо╛ф╕ня╝Я</p>
                <div class="modal-actions">
                    <button type="button" class="modal-cancel">х┐╜чХе</button>
                    <button type="button" id="modal-confirm-suggestion">чбошодц╖╗хКа</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ц╕Ечй║чбошодх╝╣чкЧ (щ╗ШшодщЪРшЧП) -->
    <div id="clear-history-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div id="modal-initial-view">
                <h2>чбошодцУНф╜Ь</h2>
                <p>чбохоЪшжБц╕Ечй║х╜УхЙНф╕Ухо╢чЪДцЙАцЬЙшБКхдйшо░х╜ХхРЧя╝Я</p>
                <p class="warning-text">цндцУНф╜ЬцЧац│ХцБвхдНя╝Б</p>
                <div class="modal-actions">
                    <button type="button" id="clear-cancel-btn">хПЦц╢И</button>
                    <button type="button" id="clear-confirm-btn">чбошодц╕Ечй║</button>
                </div>
            </div>
        </div>
    </div>

    <!-- шо╛ч╜ох╝╣чкЧ (щ╗ШшодщЪРшЧП) -->
    <div id="settings-modal" class="modal-overlay" style="display: none;">
        <div class="settings-modal-content">
            <div class="settings-modal-header">
                <h2>шо╛ч╜о</h2>
                <div class="modal-actions">
                    <button type="button" id="settings-cancel-btn">хПЦц╢И</button>
                    <button type="button" id="settings-save-btn">ф┐ЭхнШшо╛ч╜о</button>
                </div>
            </div>
            
            <div class="settings-section">
                <h3>ца╕х┐Гф║║шо╛</h3>
                <textarea id="persona-setting-input" rows="5" placeholder="хЬицндхдДч╝Цш╛СцВичЪДца╕х┐Гф║║шо╛..."></textarea>
            </div>

            <div class="settings-section">
                <div class="settings-section-header">
                    <h3>ф╕Ухо╢чобчРЖ</h3>
                    <button type="button" id="add-expert-btn" class="btn-add">я╝Л цЦ░хвЮф╕Ухо╢</button>
                </div>
                <div id="experts-list">
                    <!-- ф╕Ухо╢щЕНч╜ох░ЖчФ▒JSхКицАБцПТхЕецндхдД -->
                </div>
            </div>

        </div>
    </div>

    <script src="/static/script.js?v=1.6"></script>
</body>
</html> 